@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
@layer base {
  * {
    @apply border-gray-200;
  }
  
  html {
    @apply transition-colors duration-300 scroll-smooth;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  }
  
  body {
    @apply font-sans antialiased;
    font-synthesis: none;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
  }
  
  h1 {
    @apply text-4xl lg:text-5xl xl:text-6xl;
  }
  
  h2 {
    @apply text-3xl lg:text-4xl xl:text-5xl;
  }
  
  h3 {
    @apply text-2xl lg:text-3xl;
  }
}

/* Component styles */
@layer components {
  /* Button Variants */
  .btn-primary {
    @apply relative px-6 py-3 overflow-hidden font-semibold text-white transition-all duration-300 transform bg-gradient-to-r from-primary-600 via-primary-500 to-primary-600 hover:from-primary-700 hover:via-primary-600 hover:to-primary-700 xs:py-4 xs:px-8 rounded-2xl shadow-soft hover:shadow-glow hover:-translate-y-1 active:translate-y-0 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none;
  }
  
  .btn-primary::before {
    @apply absolute inset-0 transition-opacity duration-300 opacity-0 bg-gradient-to-r from-white/20 to-transparent;
    content: '';
  }
  
  .btn-primary:hover::before {
    @apply opacity-100;
  }
  
  .btn-secondary {
    @apply relative px-6 py-3 overflow-hidden font-semibold transition-all duration-300 transform bg-white border dark:bg-secondary-800 hover:bg-secondary-50 dark:hover:bg-secondary-700 text-secondary-700 dark:text-secondary-200 xs:py-4 xs:px-8 rounded-2xl border-secondary-200 dark:border-secondary-700 hover:border-primary-300 dark:hover:border-primary-600 shadow-soft hover:shadow-medium hover:-translate-y-1 active:translate-y-0 active:scale-95;
  }
  
  .btn-ghost {
    @apply px-4 py-2 font-medium transition-all duration-200 text-secondary-600 dark:text-secondary-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-950/50 rounded-xl;
  }
  
  .btn-icon {
    @apply p-3 rounded-xl bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 hover:border-primary-300 dark:hover:border-primary-600 shadow-soft hover:shadow-medium transition-all duration-200 transform hover:-translate-y-0.5;
  }
  
  /* Card Variants */
  .card {
    @apply transition-all duration-300 bg-white border dark:bg-secondary-800 rounded-3xl shadow-soft dark:shadow-secondary-900/20 border-secondary-100 dark:border-secondary-700;
  }
  
  .card-hover {
    @apply hover:shadow-medium hover:-translate-y-1 hover:border-primary-200 dark:hover:border-primary-700;
  }
  
  .card-interactive {
    @apply cursor-pointer hover:shadow-hard hover:-translate-y-2 hover:border-primary-300 dark:hover:border-primary-600 active:translate-y-0 active:shadow-soft;
  }
  
  .card-glass {
    @apply border bg-white/80 dark:bg-secondary-800/80 backdrop-blur-xl border-white/20 dark:border-secondary-700/50 shadow-soft;
  }
  
  .card-gradient {
    @apply bg-gradient-to-br from-white via-primary-50/30 to-accent-50/30 dark:from-secondary-800 dark:via-secondary-800/80 dark:to-secondary-700/80;
  }
  
  /* Input Variants */
  .input-field {
    @apply w-full p-4 transition-all duration-200 bg-white border xs:p-5 dark:bg-secondary-800 border-secondary-200 dark:border-secondary-700 dark:text-white rounded-2xl focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 hover:border-secondary-300 dark:hover:border-secondary-600 placeholder:text-secondary-400 dark:placeholder:text-secondary-500;
  }
  
  .input-search {
    @apply pl-12 border-0 input-field bg-secondary-50 dark:bg-secondary-900 focus:ring-primary-500/30;
  }
  
  /* Text Variants */
  .gradient-text {
    @apply text-transparent bg-gradient-to-r from-primary-600 via-accent-500 to-primary-700 bg-clip-text;
  }
  
  .gradient-text-alt {
    @apply text-transparent bg-gradient-to-r from-accent-500 via-primary-500 to-accent-600 bg-clip-text;
  }
  
  /* Layout Components */
  .container-responsive {
    @apply container px-4 mx-auto xs:px-6 sm:px-8 lg:px-12 xl:px-16 2xl:px-20;
  }
  
  .section-padding {
    @apply py-12 xs:py-16 sm:py-20 lg:py-24 xl:py-28;
  }
  
  .grid-responsive {
    @apply grid grid-cols-1 gap-4 xs:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xs:gap-6 lg:gap-8;
  }
  
  /* Animation Classes */
  .animate-on-scroll {
    @apply transition-all duration-700 ease-out translate-y-8 opacity-0;
  }
  
  .animate-on-scroll.in-view {
    @apply translate-y-0 opacity-100;
  }
  
  .loading-skeleton {
    @apply animate-pulse bg-gradient-to-r from-secondary-200 via-secondary-100 to-secondary-200 dark:from-secondary-700 dark:via-secondary-600 dark:to-secondary-700 bg-[length:200%_100%];
  }
  
  /* QR Code Specific */
  .qr-container {
    @apply relative p-6 bg-white border xs:p-8 dark:bg-secondary-800 rounded-3xl shadow-medium border-secondary-100 dark:border-secondary-700;
  }
  
  .qr-preview {
    @apply flex items-center justify-center w-full max-w-sm p-4 mx-auto bg-white aspect-square rounded-2xl shadow-soft;
  }
  
  /* Responsive Utilities */
  .text-responsive {
    @apply text-sm xs:text-base sm:text-lg;
  }
  
  .heading-responsive {
    @apply text-2xl xs:text-3xl sm:text-4xl lg:text-5xl xl:text-6xl;
  }
  
  .subheading-responsive {
    @apply text-lg xs:text-xl sm:text-2xl lg:text-3xl;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply rounded-full bg-secondary-100 dark:bg-secondary-800;
}

::-webkit-scrollbar-thumb {
  @apply rounded-full bg-secondary-300 dark:bg-secondary-600 hover:bg-secondary-400 dark:hover:bg-secondary-500;
}

/* Selection styles */
::selection {
  @apply bg-primary-100 text-primary-900;
}

::-moz-selection {
  @apply bg-primary-100 text-primary-900;
}

/* Focus styles */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-secondary-900;
}

/* Loading animations */
@keyframes shimmer {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}

.shimmer {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200px 100%;
  animation: shimmer 1.5s infinite;
}

.dark .shimmer {
  background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
  background-size: 200px 100%;
}

/* QR Scanner animations */
@keyframes scan {
  0% {
    transform: translateY(-100%);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateY(calc(256px - 2px));
    opacity: 0;
  }
}

@keyframes pulse-border {
  0%, 100% {
    border-color: rgb(59 130 246 / 0.5);
    box-shadow: 0 0 0 0 rgb(59 130 246 / 0.4);
  }
  50% {
    border-color: rgb(59 130 246 / 1);
    box-shadow: 0 0 0 4px rgb(59 130 246 / 0.1);
  }
}

.scan-frame {
  animation: pulse-border 2s ease-in-out infinite;
}

.scan-line {
  animation: scan 2s linear infinite;
}

/* Responsive breakpoint utilities */
@media (max-width: 320px) {
  .container-responsive {
    @apply px-2;
  }
}

@media (min-width: 1920px) {
  .container-responsive {
    @apply max-w-screen-2xl;
  }
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  .print-only {
    display: block !important;
  }
  
  .card {
    @apply border shadow-none border-secondary-300;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .card {
    @apply border-2 border-secondary-900 dark:border-white;
  }
  
  .btn-primary {
    @apply text-white bg-black border-2 border-black;
  }
  
  .btn-secondary {
    @apply text-black bg-white border-2 border-black;
  }
}

/* Dark mode specific enhancements */
@media (prefers-color-scheme: dark) {
  .auto-dark {
    @apply dark:bg-secondary-900 dark:text-white;
  }
}

/* Mobile-first responsive utilities */
.mobile-only {
  @apply block xs:hidden;
}

.desktop-only {
  @apply hidden lg:block;
}

.tablet-only {
  @apply hidden xs:block lg:hidden;
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .btn-primary,
  .btn-secondary,
  .card-hover {
    @apply transform-none;
  }
  
  .btn-primary:active,
  .btn-secondary:active {
    @apply scale-95;
  }
}

/* Accessibility improvements */
.sr-only {
  @apply absolute w-px h-px p-0 -m-px overflow-hidden border-0 whitespace-nowrap;
}

.skip-link {
  @apply absolute z-50 px-4 py-2 text-white transition-all duration-200 rounded-md -top-10 left-4 bg-primary-600 focus:top-4;
}

/* Loading states */
.loading-dots::after {
  content: '';
  animation: loading-dots 1.5s infinite;
}

@keyframes loading-dots {
  0%, 20% {
    content: '.';
  }
  40% {
    content: '..';
  }
  60%, 100% {
    content: '...';
  }
}

/* Smooth transitions for theme switching */
.theme-transition {
  @apply transition-colors duration-300 ease-in-out;
}

/* Custom properties for dynamic theming */
:root {
  --header-height: 4rem;
  --sidebar-width: 16rem;
  --content-max-width: 1200px;
}

@media (min-width: 768px) {
  :root {
    --header-height: 5rem;
    --sidebar-width: 18rem;
  }
}

/* Utility classes for common patterns */
.center-content {
  @apply flex items-center justify-center;
}

.full-bleed {
  @apply w-screen relative left-1/2 right-1/2 -ml-[50vw] -mr-[50vw];
}

.aspect-square {
  @apply aspect-[1/1];
}

.aspect-video {
  @apply aspect-[16/9];
}

/* Performance optimizations */
.gpu-accelerated {
  @apply transform-gpu will-change-transform;
}

.contain-layout {
  contain: layout;
}

.contain-paint {
  contain: paint;
}